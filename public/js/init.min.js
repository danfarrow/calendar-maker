/*! sq-calendar-maker 2015-01-20 */
!function(a,b){function c(a){"use strict";var b=a.currentTarget,c=b.getAttribute("data-template"),d=b.getAttribute("data-theme"),e=document.getElementById("title"),f=e.value,g=document.getElementById("startDate"),h=g.value,i=b.getAttribute("data-dayCount"),j=document.getElementById("outputHolder");a.preventDefault(),j.innerHTML=l(f,c,d,h,i)}function d(a,b,d,e){"use strict";var f=document.createElement("button"),g=e||document.body,h=String(b).replace("-"," ");return f.setAttribute("data-template",a),f.setAttribute("data-theme",b),f.setAttribute("data-dayCount",d),f.addEventListener("click",c),f.appendChild(document.createTextNode(h)),g.appendChild(f),f}function e(a,b,c,d,e){"use strict";var f=document.createElement("input"),g=document.createElement("label"),h=document.createTextNode(b),i=document.createElement("br"),j=d||document.body,k=e||"text";return f.setAttribute("type",k),f.setAttribute("name",a),f.setAttribute("id",a),f.setAttribute("value",c),g.setAttribute("for",a),g.appendChild(h),j.appendChild(g),j.appendChild(f),j.appendChild(i),f}function f(a,b,c,d){"use strict";var f=e(a,b,c,d,"date");return f.type="date",f}function g(){"use strict";var a=document.createElement("form"),b=document.createElement("div"),c=(new Date).toJSON().slice(0,10);a.setAttribute("class","no-print"),e("title","Title","Untitled Calendar",a),f("startDate","Start date",c,a),d("defaultTemplate","default","31",a),d("defaultTemplate","day-planner","3",a),d("defaultTemplate","slim-days","42",a),d("defaultTemplate","working-week","7",a),d("defaultTemplate","slim-weeks","224",a),document.body.appendChild(a),b.setAttribute("id","outputHolder"),document.body.appendChild(b)}function h(){"use strict";var a,b=[],c=9,d=15;for(a=c;d>=a;a++)b.push({hournumber:a});return b}function i(a){"use strict";return{weeknumber:a.format("W"),weekmonth:a.format("M"),weekyear:a.format("Y"),days:[]}}function j(a){"use strict";return{dayname:a.format("D"),daynumber:a.getDate(),suffix:a.format("S"),month:a.format("M"),year:a.format("Y"),percentage:a.getProgress()}}function k(a){"use strict";document.body.classList.remove(document.body.classList.item(0)),document.body.classList.add(a)}function l(a,b,c,d,e){"use strict";var f,g,l=b||"defaultTemplate",m=document.getElementById(l),n=Handlebars.compile(m.innerHTML),o=d||new Date,p=new Date(o),q=e||1,r={title:a,weeks:[]};if(!m)return"Template not found: "+l;for(k(c||"default");q--;)g=j(p),console.log(p.getDay()),(1===p.getDay()||void 0===f)&&(f=i(p),console.log("Creating week object")),g.hours=h(),f.days.push(g),(0===p.getDay()||0===q)&&r.weeks.push(f),p.addDay();return console.log(r),n(r)}b.ggg=a,document.addEventListener("DOMContentLoaded",g)}({},function(){return this}());